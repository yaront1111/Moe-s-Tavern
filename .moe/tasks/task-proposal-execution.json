{
  "id": "task-proposal-execution",
  "epicId": "epic-daemon",
  "title": "Apply approved proposals to rails",
  "description": "When a proposal is approved, update the actual rails.",
  "definitionOfDone": [
    "Approved ADD_RAIL adds to target scope",
    "Approved MODIFY_RAIL replaces old value",
    "Approved REMOVE_RAIL deletes from target",
    "Changes persisted to project/epic/task JSON"
  ],
  "taskRails": [
    "All changes through StateManager write methods",
    "Log RAIL_UPDATED event after changes"
  ],
  "implementationPlan": [
    {
      "stepId": "step-1",
      "description": "Create applyProposal(proposalId) method in StateManager.ts",
      "status": "PENDING",
      "affectedFiles": ["packages/moe-daemon/src/state/StateManager.ts"]
    },
    {
      "stepId": "step-2",
      "description": "Implement ADD_RAIL: push proposedValue to target entity's rails array",
      "status": "PENDING",
      "affectedFiles": ["packages/moe-daemon/src/state/StateManager.ts"]
    },
    {
      "stepId": "step-3",
      "description": "Implement MODIFY_RAIL: find and replace currentValue with proposedValue in rails array",
      "status": "PENDING",
      "affectedFiles": ["packages/moe-daemon/src/state/StateManager.ts"]
    },
    {
      "stepId": "step-4",
      "description": "Implement REMOVE_RAIL: filter out currentValue from rails array",
      "status": "PENDING",
      "affectedFiles": ["packages/moe-daemon/src/state/StateManager.ts"]
    },
    {
      "stepId": "step-5",
      "description": "Call applyProposal from proposal approval handler in WebSocketServer.ts, then write entity to file",
      "status": "PENDING",
      "affectedFiles": ["packages/moe-daemon/src/server/WebSocketServer.ts"]
    }
  ],
  "status": "BACKLOG",
  "assignedWorkerId": null,
  "branch": null,
  "prLink": null,
  "reopenCount": 0,
  "reopenReason": null,
  "createdBy": "HUMAN",
  "parentTaskId": null,
  "order": 3,
  "createdAt": "2026-02-03T12:30:00.000Z",
  "updatedAt": "2026-02-03T12:30:00.000Z"
}
